(function(){"use strict";var e={3549:function(e,t,n){var i=n(9242),o=n(3396),u=n(4870),r=(n(7658),n(7139));const l=(0,o._)("label",{for:"input-devices"},"Select input device: ",-1),a=["value"];var c={__name:"InputDeviceSelector",emits:["select"],setup(e,{emit:t}){const n=(0,u.iH)([]);function i(e){t("select",e.target.value)}return navigator.mediaDevices.enumerateDevices().then((e=>n.value.push(...e.filter((({kind:e})=>"audioinput"===e))))),(e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[l,(0,o._)("select",{id:"input-devices",onChange:i},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.value,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.deviceId,value:e.deviceId},(0,r.zw)(e.label),9,a)))),128))],32)],64))}};const v=c;var f=v,s=(n(3408),n(4590),{__name:"Oscilloscope",props:{input:{type:MediaStreamAudioSourceNode,default:null},ctx:{type:AudioContext,default:null}},setup(e){const t=e,n=(0,u.iH)(null),{ctx:i,input:r}=(0,u.BK)(t),l=i.value.createAnalyser();l.fftSize=2048,r.value.connect(l);const a=l.frequencyBinCount,c=new Uint8Array(a);function v(){if(!n.value)return;requestAnimationFrame(v);const e=n.value.getContext("2d");l.getByteTimeDomainData(c),e.fillStyle="rgb(200, 200, 200)",e.fillRect(0,0,n.value.width,n.value.height),e.lineWidth=2,e.strokeStyle="rgb(0, 0, 0)",e.beginPath();const t=1*n.value.width/a;let i=0;for(let o=0;o<a;o++){const u=c[o]/128,r=u*n.value.height/2;0===o?e.moveTo(i,r):e.lineTo(i,r),i+=t}e.lineTo(n.value.width,n.value.height/2),e.stroke()}return l.getByteTimeDomainData(c),(0,o.bv)((()=>{v()})),(e,t)=>((0,o.wg)(),(0,o.iD)("canvas",{ref_key:"oscilloscope",ref:n},null,512))}});const d=s;var p=d,h={__name:"App",setup(e){const t=(0,u.iH)(),n=(0,u.iH)();function i(e){console.log(`Device ${e} selected`),l(e)}function r(){t.value=new AudioContext,l("")}function l(e){navigator.mediaDevices.getUserMedia({audio:!0,deviceId:{exact:e}}).then((e=>{n.value=t.value.createMediaStreamSource(e)}))}return(e,u)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("button",{onClick:r},"Connect"),(0,o.Wm)(f,{onSelect:i}),n.value&&t.value?((0,o.wg)(),(0,o.j4)(p,{key:0,input:n.value,ctx:t.value},null,8,["input","ctx"])):(0,o.kq)("",!0)],64))}};const g=h;var m=g;(0,i.ri)(m).mount("#app")}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var u=t[i]={exports:{}};return e[i](u,u.exports,n),u.exports}n.m=e,function(){var e=[];n.O=function(t,i,o,u){if(!i){var r=1/0;for(v=0;v<e.length;v++){i=e[v][0],o=e[v][1],u=e[v][2];for(var l=!0,a=0;a<i.length;a++)(!1&u||r>=u)&&Object.keys(n.O).every((function(e){return n.O[e](i[a])}))?i.splice(a--,1):(l=!1,u<r&&(r=u));if(l){e.splice(v--,1);var c=o();void 0!==c&&(t=c)}}return t}u=u||0;for(var v=e.length;v>0&&e[v-1][2]>u;v--)e[v]=e[v-1];e[v]=[i,o,u]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,u,r=i[0],l=i[1],a=i[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(a)var v=a(n)}for(t&&t(i);c<r.length;c++)u=r[c],n.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return n.O(v)},i=self["webpackChunkoptical_bell"]=self["webpackChunkoptical_bell"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(3549)}));i=n.O(i)})();
//# sourceMappingURL=app.14b316dc.js.map